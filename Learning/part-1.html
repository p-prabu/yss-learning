<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>роЗро░ро╛роЬ ропрпЛроХроорпН рооро▒рпНро▒рпБроорпН роЖройрпНрооро╛ро╡ро┐ройрпН рокропрогроорпН</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans Tamil', sans-serif;
            background-color: #fdfbf7;
        }
        .gradient-text {
            background: linear-gradient(to right, #d97706, #b45309);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Breathing Timer Styles */
        .clock-face {
            background: conic-gradient(
                #60a5fa 0deg 110.76deg,    /* Blue - Inhale */
                #facc15 110.76deg 221.52deg, /* Yellow - Hold */
                #4ade80 221.52deg 332.28deg, /* Green - Exhale */
                #a855f7 332.28deg 360deg   /* Purple - Break */
            );
        }
        .hand {
            transform-origin: bottom center;
            transition: transform 0.1s linear;
            box-shadow: 0 0 10px 2px rgba(253, 224, 71, 0.6);
        }
        .hand::after {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            background-color: #fcd34d;
            border-radius: 50%;
            box-shadow: 0 0 8px 2px rgba(253, 224, 71, 0.8);
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Hero Section -->
    <header class="bg-orange-50 py-12 px-4 border-b-4 border-orange-200">
        <div class="max-w-4xl mx-auto text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-orange-800 mb-4">роЗро░ро╛роЬ ропрпЛроХроорпН & роЖройрпНроо роЮро╛ройроорпН</h1>
            <p class="text-xl md:text-2xl text-orange-700 italic font-serif leading-relaxed">
                "роЗро▒рпИро╡ройродрпБ роЪро░рпНро╡ро╡ро┐ропро╛рокроХроорпЗ роироородрпБ роЪро░рпНро╡ро╡ро┐ропро╛рокроХроорпБроорпН..."
            </p>
            <div class="mt-6 w-24 h-1 bg-orange-400 mx-auto rounded"></div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 py-8 space-y-12">

        <!-- Introduction Section -->
        <section class="bg-white rounded-2xl shadow-lg p-8 border-l-8 border-orange-400">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
                роЖройрпНрооро╛ро╡ро┐ройрпН роЗрогрпИрокрпНрокрпБ
            </h2>
            <p class="text-lg leading-relaxed text-gray-700">
                роЪро┐ро▒роирпНрод роЗроирпНродро┐роп роЖройрпНроорпАроХ роЖроЪро╛ройрпНроХро│рпН родрпЖропрпНро╡рпАроХрокрпН рокрпЗро░ро┐ро░рпБрокрпНрокрпБроЯройрпН роЙрогро░рпНро╡рпБрокрпВро░рпНро╡рооро╛рой родрпКроЯро░рпНрокрпИ роПро▒рпНрокроЯрпБродрпНродрпБро╡родро▒рпНроХро╛роХ 
                <span class="font-semibold text-orange-700">роЗро░ро╛роЬ ропрпЛроХроорпН</span> роОройрпБроорпН ро╡ро┤ро┐роорпБро▒рпИропрпИ роХрогрпНроЯро▒ро┐роирпНродройро░рпН. 
                роЗродрпБ родройро┐рооройро┐род роЖройрпНроо-роЕро▓рпИропрпИ рокро░роорпНрокрпКро░рпБро│рпН роОройрпБроорпН роХроЯро▓рпБроЯройрпН роорпАрогрпНроЯрпБроорпН роЗрогрпИроХрпНроХрпБроорпН ро╡ро┐роЮрпНроЮро╛ройрооро╛роХрпБроорпН.
            </p>
            <div class="mt-6 bg-orange-50 p-6 rounded-lg border border-orange-100">
                <p class="text-xl font-serif text-center text-orange-900">
                    "роЙроЯро▓рпИ ро╡ро░рпБродрпНродро┐родрпН родро╡роорпН роЪрпЖропрпНрокро╡ро░рпНроХро│рпИ ро╡ро┐роЯ ропрпЛроХро┐ роЪро┐ро▒роирпНродро╡ройрпН...<br>
                    роОройро╡рпЗ, роУ роЕро░рпНроЬрпБройро╛, роирпА ропрпЛроХро┐ роЖроХрпБроХ!"
                </p>
                <p class="text-right text-sm font-bold text-orange-600 mt-2">- рокроХро╡родрпН роХрпАродрпИ (рокроХро╡ро╛ройрпН роХро┐ро░рпБро╖рпНрогройрпН)</p>
            </div>
        </section>

        <!-- Thoughts to Live By -->
        <section class="bg-amber-50 rounded-2xl shadow-lg p-8 border border-amber-200">
            <h2 class="text-2xl font-bold text-amber-900 mb-6 flex items-center">
                ЁЯМЯ ро╡ро╛ро┤ ро╡ро┤ро┐роХро╛роЯрпНроЯрпБроорпН роЪро┐роирпНродройрпИроХро│рпН
            </h2>
            <div class="relative">
                <span class="absolute top-0 left-0 text-6xl text-amber-200 -z-10">тЭЭ</span>
                <p class="text-lg text-gray-800 italic leading-relaxed pl-8 mb-4">
                    "роиро╛роорпН роЗро▒рпИро╡ройро┐роЯрооро┐ро░рпБроирпНродрпБ роХрпАро┤ро┐ро▒роЩрпНроХро┐ ро╡роирпНродро┐ро░рпБроХрпНроХро┐ро▒рпЛроорпН, роорпЗро▓рпБроорпН роиро╛роорпН роЕро╡ройро┐роЯроорпЗ родро┐ро░рпБроорпНрок роорпЗро▓рпЗро▒ро┐роЪрпН роЪрпЖро▓рпНро▓ ро╡рпЗрогрпНроЯрпБроорпН. роиро╛роорпН роироородрпБ родрпЖропрпНро╡родрпН родроирпНродрпИропро┐роЯрооро┐ро░рпБроирпНродрпБ рокро┐ро░ро┐роирпНродро┐ро░рпБрокрпНрокродро╛роХродрпН родрпЛройрпНро▒рпБроХро┐ро▒родрпБ, роорпЗро▓рпБроорпН роиро╛роорпН роЕро╡ро░рпБроЯройрпН роЙрогро░рпНро╡рпБрокрпВро░рпНро╡рооро╛роХ роорпАрогрпНроЯрпБроорпН роРроХрпНроХро┐ропрооро╛роХ ро╡рпЗрогрпНроЯрпБроорпН. ропрпЛроХроорпН роироороХрпНроХрпБ, роОрокрпНрокроЯро┐ рокро┐ро░ро┐ро╡рпЖройрпБроорпН рооро╛ропрпИропро┐ро▓ро┐ро░рпБроирпНродрпБ роорпЗро▓рпЖро┤рпБроирпНродрпБ роЗро▒рпИро╡ройрпБроЯройро╛рой роироородрпБ роРроХрпНроХро┐ропродрпНродрпИ роЙрогро░рпНроирпНродро▒ро┐ро╡родрпБ роОройрпНро▒рпБ рокрпЛродро┐роХрпНроХро┐ро▒родрпБ."
                </p>
                <p class="text-right font-bold text-amber-800 mt-4">- рокро░рооро╣роорпНро╕ ропрпЛроХро╛ройроирпНродро░рпН</p>
            </div>
        </section>

        <!-- Spiritual Eye Section -->
        <section class="bg-white rounded-2xl shadow-lg p-8 border-t-4 border-purple-600">
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="w-full md:w-2/3">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                        ЁЯСБя╕П роЖройрпНроорпАроХроХрпН роХрогрпН (The Spiritual Eye)
                    </h2>
                    <p class="text-gray-700 mb-4 leading-relaxed">
                        родро┐ропро╛ройрокрпН рокропро┐ро▒рпНроЪро┐ропро┐ройрпН родрпБро╡роХрпНроХродрпНродро┐ро▓ро┐ро░рпБроирпНродрпЗ, рокрпБро░рпБро╡роородрпНродро┐ропро┐ро▓рпН роЕроорпИроирпНродрпБро│рпНро│ роЪроХрпНродро┐ро╡ро╛ропрпНроирпНрод <span class="font-semibold text-purple-700">роХрпВроЯро╕рпНрод роЙрогро░рпНро╡рпБроиро┐ро▓рпИ роорпИропродрпНродрпИрокрпН</span> (Kutastha) рокро▒рпНро▒ро┐ роЕро▒ро┐ро╡родрпБ роЕро╡роЪро┐ропроорпН.
                    </p>
                    <ul class="list-disc list-inside space-y-3 text-gray-700 marker:text-purple-500">
                        <li><strong>роЗро░рпБрокрпНрокро┐роЯроорпН:</strong> рокрпБро░рпБро╡роородрпНродро┐ ("роТро▒рпНро▒рпИроХрпНроХрогрпН" роЕро▓рпНро▓родрпБ "ро╡ро╛ропро┐ро▓рпН").</li>
                        <li><strong>родрпКроЯро░рпНрокрпБ:</strong> роЗродрпБ роорпВро│рпИропро┐ройрпН роЕроЯро┐ропро┐ро▓рпН роЙро│рпНро│ рокрпАройро┐ропро▓рпН роЪрпБро░рокрпНрокро┐ропро┐ройрпН (Pineal Gland) рокро┐ро░родро┐рокро▓ро┐рокрпНрокрпБ <span class="text-xs text-gray-500">(роЖроЮрпНроЮро╛ роЪроХрпНроХро░роорпН)</span>.</li>
                        <li><strong>ро╡роЯро┐ро╡роорпН:</strong> ро╡рпЖро│рпНро│ро┐ропрпИрокрпН рокрпЛро▓ роТро│ро┐ро░рпБроорпН роРроорпНроорпБроХ ро╡рпЖрогрпНрогро┐ро▒ роироЯрпНроЪродрпНродро┐ро░роорпН.</li>
                    </ul>
                </div>
                <div class="w-full md:w-1/3 flex flex-col items-center justify-center">
                    <div class="relative w-56 h-56 bg-indigo-950 rounded-full flex items-center justify-center shadow-2xl border-[20px] border-yellow-400 ring-4 ring-yellow-200/50 overflow-hidden">
                        <div class="absolute inset-2 bg-blue-800 rounded-full shadow-inner ring-8 ring-blue-900/50"></div>
                        <div class="relative text-white text-8xl font-black drop-shadow-[0_0_20px_rgba(255,255,255,1)] pb-3">тШЕ</div>
                    </div>
                    <p class="mt-6 text-sm font-bold text-purple-800">роЖройрпНроорпАроХроХрпН роХрогрпНрогро┐ройрпН роХрпБро▒ро┐ропрпАроЯрпБ</p>
                </div>
            </div>
        </section>

        <!-- Daily Practice Section -->
        <section id="daily-practice" class="space-y-8">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-orange-900">родро┐ройроЪро░ро┐ родро┐ропро╛ройрокрпН рокропро┐ро▒рпНроЪро┐</h2>
            </div>

            <!-- 1. Sankalpam Card -->
            <div class="bg-yellow-50 rounded-xl shadow-md p-6 border-l-8 border-yellow-500 relative overflow-hidden">
                <h3 class="text-xl font-bold text-yellow-800 mb-4 flex items-center">
                    <span class="bg-yellow-200 text-yellow-800 rounded-full w-8 h-8 flex items-center justify-center mr-3 text-sm">1</span>
                    роЪроЩрпНроХро▓рпНрокроорпН (Affirmation)
                </h3>
                <p class="text-lg md:text-xl italic text-gray-800 font-serif leading-relaxed text-center px-4 md:px-12">
                    "роиро╛ройрпН роЙроЯро▓ро▓рпНро▓, роЗро░родрпНродрооро▓рпНро▓, роЪроХрпНродро┐ропро▓рпНро▓, роОрогрпНрогроЩрпНроХро│ро▓рпНро▓, рооройрооро▓рпНро▓, роЕроХроирпНродрпИропро▓рпНро▓, роЪрпВроЯрпНроЪрпБроо роЙроЯро▓рпБрооро▓рпНро▓; роЕро╡ро▒рпНро▒рпИ роТро│ро┐ропрпВроЯрпНроЯро┐, роЕро╡рпИ рооро╛ро▒ро┐роп рокрпЛродро┐ро▓рпБроорпН родро╛ройрпН рооро╛ро▒ро╛родрпБ роЗро░рпБроХрпНроХрпБроорпН <span class="text-yellow-700 font-bold">роЕро┤ро┐ро╡ро▒рпНро▒ роЖройрпНрооро╛ро╡рпЗ роиро╛ройрпН</span>."
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- 2. Breathing Exercise 1 -->
                <div class="bg-white rounded-xl shadow p-6 border-t-4 border-orange-400">
                    <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                        <span class="bg-orange-100 text-orange-600 rounded-full w-8 h-8 flex items-center justify-center mr-3 text-sm">2</span>
                        роЖро░роорпНрок роЪрпБро╡ро╛роЪрокрпН рокропро┐ро▒рпНроЪро┐ 1
                    </h3>
                    <p class="text-sm text-gray-500 mb-3">роЙроЯро▓рпИ роЗро▒рпБроХрпНроХро┐родрпН родро│ро░рпНродрпНродрпБроорпН роорпБро▒рпИ (3 роорпБро▒рпИ).</p>
                    <ul class="list-none space-y-3 text-sm text-gray-700">
                        <li><span class="text-orange-500 font-bold">A:</span> "ро╣, ро╣ро╛" роОрой ро╡ро╛ропрпН ро╡ро┤ро┐ропро╛роХ ро╡рпЖро│ро┐ропрпЗро▒рпНро▒ро╡рпБроорпН.</li>
                        <li><span class="text-orange-500 font-bold">B:</span> роиро╛роЪро┐ ро╡ро┤ро┐ропро╛роХ роЗро┤рпБродрпНродрпБ, роЙроЯро▓рпИ роЗро▒рпБроХрпНроХро╡рпБроорпН.</li>
                        <li><span class="text-orange-500 font-bold">C:</span> "ро╣, ро╣ро╛" роОрой ро╡рпЖро│ро┐ропрпЗро▒рпНро▒ро┐родрпН родро│ро░рпНродрпНродро╡рпБроорпН.</li>
                    </ul>
                </div>

                <!-- 3. Prayer & Chanting -->
                <div class="bg-white rounded-xl shadow p-6 border-t-4 border-pink-400">
                    <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                        <span class="bg-pink-100 text-pink-600 rounded-full w-8 h-8 flex items-center justify-center mr-3 text-sm">3</span>
                        рокро┐ро░ро╛ро░рпНродрпНродройрпИ & роХрпАродрооро┐роЪрпИродрпНродро▓рпН
                    </h3>
                    <div class="bg-pink-50 p-4 rounded-lg border border-pink-100 italic text-sm text-gray-700 space-y-2">
                        <p>"роирпА ро╡ро░рпБро╡ро╛ропрпН, родрпЖропрпНро╡родрпН родроирпНродрпИропрпЗ, роЙройродрпБ роЗро░рпБрокрпНрокро┐ройрпН рокро░роирпНрод роЗро░ро╛роЬрпНроЬро┐ропродрпНродрпИроХрпН роХро╛роЯрпНроЯрпБро╡ро╛ропро╛роХ!"</p>
                        <p>"роОройродрпБ роЗродропродрпНродро┐ро▒рпНроХрпБ ро╡ро┤ро┐рокроЯроХрпН роХро▒рпНро▒рпБроХрпН роХрпКроЯрпБрокрпНрокро╛ропрпН..."</p>
                    </div>
                </div>

                <!-- 4. Breathing Exercise 2 (20:20:20) -->
                <div class="bg-white rounded-xl shadow p-6 border-t-4 border-blue-400 md:col-span-2">
                    <div class="flex flex-col md:flex-row gap-8 items-center">
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                                <span class="bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center mr-3 text-sm">4</span>
                                роЪрпАро░рпН роЪрпБро╡ро╛роЪрокрпН рокропро┐ро▒рпНроЪро┐ (20:20:20 + 5)
                            </h3>
                            <p class="text-sm text-gray-600 mb-4">6 роорпБродро▓рпН 12 роорпБро▒рпИ роЪрпЖропрпНропро╡рпБроорпН.</p>
                            <div class="grid grid-cols-4 gap-2 text-center">
                                <div class="bg-blue-50 p-2 rounded border border-blue-200 text-xs"><b class="block text-blue-700 text-lg">20</b>роЙро│рпНроорпВроЪрпНроЪрпБ</div>
                                <div class="bg-yellow-50 p-2 rounded border border-yellow-200 text-xs"><b class="block text-yellow-700 text-lg">20</b>роиро┐ро▒рпБродрпНродроорпН</div>
                                <div class="bg-green-50 p-2 rounded border border-green-200 text-xs"><b class="block text-green-700 text-lg">20</b>ро╡рпЖро│ро┐роорпВроЪрпНроЪрпБ</div>
                                <div class="bg-purple-50 p-2 rounded border border-purple-200 text-xs"><b class="block text-purple-700 text-lg">05</b>роУропрпНро╡рпБ</div>
                            </div>
                        </div>

                        <!-- Breathing Timer -->
                        <div class="flex flex-col items-center justify-center bg-gray-50 p-6 rounded-xl border border-gray-200">
                            <div class="relative w-48 h-48 rounded-full clock-face shadow-lg border-4 border-white flex items-center justify-center">
                                <div class="absolute w-36 h-36 bg-white rounded-full z-10 flex flex-col items-center justify-center shadow-inner">
                                    <span id="breath-timer-display" class="text-2xl font-bold font-mono text-gray-700">00</span>
                                    <span class="text-xs text-gray-400 uppercase">Sec</span>
                                    <span id="breath-phase-label" class="text-[10px] font-bold text-blue-500 mt-1">START</span>
                                </div>
                                <div id="breath-clock-hand" class="hand absolute bottom-1/2 left-1/2 w-1.5 h-20 bg-gradient-to-t from-yellow-600 to-yellow-300 rounded-full z-20 origin-bottom -ml-0.75"></div>
                                <div class="absolute w-4 h-4 bg-yellow-600 rounded-full z-30 border-2 border-white"></div>
                            </div>
                            <div class="mt-4 flex items-center gap-4">
                                <button onclick="toggleBreathMute()" id="breath-mute-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full p-3 shadow transition">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" /></svg>
                                </button>
                                <button onclick="toggleBreathTimer()" id="breath-play-btn" class="bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow transition">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                </button>
                                <div class="text-center ml-2">
                                    <p class="text-xs text-gray-500">роЪрпБро▒рпНро▒рпБроХро│рпН</p>
                                    <p id="breath-round-counter" class="text-xl font-bold text-blue-800">0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 5. Meditation Phase WITH FIXED TIMER -->
                <div class="bg-indigo-50 rounded-xl shadow p-6 border-t-4 border-indigo-600 md:col-span-2">
                    <div class="flex flex-col lg:flex-row gap-8">
                        <!-- Left: Settings -->
                        <div class="flex-1 space-y-4">
                            <h3 class="text-lg font-bold text-indigo-900 mb-3 flex items-center">
                                <span class="bg-indigo-200 text-indigo-800 rounded-full w-8 h-8 flex items-center justify-center mr-3 text-sm">5</span>
                                родро┐ропро╛ройроорпН (Meditation Proper)
                            </h3>
                            <div class="text-gray-700 text-sm space-y-2">
                                <p><strong>роХро╡ройроорпН:</strong> рокрпБро░рпБро╡роородрпНродро┐ (роЖройрпНроорпАроХроХрпН роХрогрпН).</p>
                                <p><strong>роороирпНродро┐ро░роорпН:</strong> "роЙройрпНройрпИ ро╡рпЖро│ро┐рокрпНрокроЯрпБродрпНродрпБро╡ро╛ропро╛роХ!"</p>
                            </div>
                            
                            <!-- Settings Form -->
                            <div class="bg-white p-4 rounded-lg border border-indigo-200 shadow-sm mt-4">
                                <h4 class="font-bold text-indigo-800 text-sm mb-3 border-b border-indigo-100 pb-2">роЯрпИрооро░рпН роЕроорпИрокрпНрокрпБроХро│рпН (Settings)</h4>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">роЖропродрпНродроорпН (Warm-up)</label>
                                        <select id="med-warmup" class="w-full text-sm border-gray-300 rounded-md shadow-sm bg-gray-50 p-2">
                                            <option value="10" selected>10 ро╡ро┐роиро╛роЯро┐</option>
                                            <option value="30">30 ро╡ро┐роиро╛роЯро┐</option>
                                            <option value="60">60 ро╡ро┐роиро╛роЯро┐</option>
                                            <option value="0">роЗро▓рпНро▓рпИ</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">родро┐ропро╛ройроорпН (Duration)</label>
                                        <select id="med-duration" class="w-full text-sm border-gray-300 rounded-md shadow-sm bg-gray-50 p-2">
                                            <option value="1">1 роиро┐рооро┐роЯроорпН (Test)</option>
                                            <option value="5">5 роиро┐рооро┐роЯроорпН</option>
                                            <option value="10">10 роиро┐рооро┐роЯроорпН</option>
                                            <option value="15">15 роиро┐рооро┐роЯроорпН</option>
                                            <option value="20" selected>20 роиро┐рооро┐роЯроорпН</option>
                                            <option value="30">30 роиро┐рооро┐роЯроорпН</option>
                                            <option value="45">45 роиро┐рооро┐роЯроорпН</option>
                                            <option value="60">60 роиро┐рооро┐роЯроорпН</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">роиро┐ро▒рпИро╡рпБ роЕроорпИродро┐</label>
                                        <select id="med-silence" class="w-full text-sm border-gray-300 rounded-md shadow-sm bg-gray-50 p-2">
                                            <option value="10" selected>10 ро╡ро┐роиро╛роЯро┐</option>
                                            <option value="30">30 ро╡ро┐роиро╛роЯро┐</option>
                                            <option value="60">60 ро╡ро┐роиро╛роЯро┐</option>
                                            <option value="0">роЗро▓рпНро▓рпИ</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right: Advanced Timer UI -->
                        <div class="flex flex-col items-center justify-center bg-indigo-900 text-white p-6 rounded-xl shadow-lg min-w-[300px] border border-indigo-700 relative overflow-hidden">
                            <div id="med-pulse" class="absolute inset-0 bg-indigo-500 opacity-0 rounded-xl transition-opacity duration-1000"></div>
                            
                            <div class="z-10 text-center w-full">
                                <div id="med-phase-display" class="text-indigo-300 text-sm font-bold uppercase tracking-widest mb-2">родропро╛ро░рпН (Ready)</div>
                                <div id="med-timer-display" class="text-5xl font-mono font-bold mb-4 tabular-nums">20:00</div>
                                
                                <div class="w-full bg-indigo-800 rounded-full h-2 mb-6 overflow-hidden">
                                    <div id="med-progress" class="bg-indigo-400 h-2 rounded-full transition-all duration-1000" style="width: 0%"></div>
                                </div>

                                <div class="flex justify-center gap-4">
                                    <button onclick="toggleMeditation()" id="med-play-btn" class="bg-white text-indigo-900 hover:bg-indigo-100 rounded-full p-4 shadow-lg transition transform hover:scale-105">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                    </button>
                                    <button onclick="resetMeditation()" class="bg-indigo-700 text-indigo-200 hover:bg-indigo-600 rounded-full p-4 shadow-lg transition" title="Reset">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" /></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 6. Closing -->
                <div class="bg-white rounded-xl shadow p-6 border-t-4 border-gray-400 md:col-span-2 text-center">
                    <h3 class="text-lg font-bold text-gray-800 mb-2">роиро┐ро▒рпИро╡рпБ</h3>
                    <p class="text-sm text-gray-700">роЗро▒рпИро╡ройрпБроХрпНроХро╛рой роУро░рпН роЗродропроЩрпНроХройро┐роирпНрод роиройрпНро▒ро┐ропрпБроЯройрпН родро┐ропро╛ройродрпНродрпИ роиро┐ро▒рпИро╡рпБ роЪрпЖропрпНропро╡рпБроорпН.</p>
                </div>

            </div>
        </section>

    </main>

    <script>
        // GLOBAL AUDIO CONTEXT
        let audioCtx;
        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        /* ---------------- BREATHING TIMER LOGIC ---------------- */
        let breathIsPlaying = false;
        let breathIsMuted = false;
        let breathInterval;
        let breathElapsedSeconds = 0;
        let breathRounds = 0;
        const breathTotalDuration = 65;

        const breathPlayBtn = document.getElementById('breath-play-btn');
        const breathMuteBtn = document.getElementById('breath-mute-btn');
        const breathHand = document.getElementById('breath-clock-hand');
        const breathDisplay = document.getElementById('breath-timer-display');
        const breathRoundCounter = document.getElementById('breath-round-counter');
        const breathPhaseLabel = document.getElementById('breath-phase-label');

        function playSoftTick() {
            if (breathIsMuted || !audioCtx) return;
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'sine';
            osc.frequency.setValueAtTime(600, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(300, audioCtx.currentTime + 0.05);
            gain.gain.setValueAtTime(0, audioCtx.currentTime);
            gain.gain.linearRampToValueAtTime(0.15, audioCtx.currentTime + 0.01);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.1);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.1);
        }

        function toggleBreathMute() {
            breathIsMuted = !breathIsMuted;
            breathMuteBtn.innerHTML = breathIsMuted ? 
                '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2" /></svg>' : 
                '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" /></svg>';
        }

        function updateBreathPhase(seconds) {
            let cycle = seconds % 65;
            if (cycle === 0 && seconds > 0) cycle = 65;
            
            if (cycle <= 20) { breathPhaseLabel.innerText = "роЙро│рпНроорпВроЪрпНроЪрпБ"; breathPhaseLabel.className = "text-[10px] font-bold text-blue-600 mt-1 uppercase"; }
            else if (cycle <= 40) { breathPhaseLabel.innerText = "роиро┐ро▒рпБродрпНродроорпН"; breathPhaseLabel.className = "text-[10px] font-bold text-yellow-600 mt-1 uppercase"; }
            else if (cycle <= 60) { breathPhaseLabel.innerText = "ро╡рпЖро│ро┐роорпВроЪрпНроЪрпБ"; breathPhaseLabel.className = "text-[10px] font-bold text-green-600 mt-1 uppercase"; }
            else { breathPhaseLabel.innerText = "роУропрпНро╡рпБ"; breathPhaseLabel.className = "text-[10px] font-bold text-purple-600 mt-1 uppercase"; }
        }

        function toggleBreathTimer() {
            initAudio();
            if (audioCtx.state === 'suspended') audioCtx.resume();
            
            breathIsPlaying = !breathIsPlaying;
            if (breathIsPlaying) {
                breathPlayBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';
                playSoftTick();
                updateBreathPhase(breathElapsedSeconds);
                
                breathInterval = setInterval(() => {
                    breathElapsedSeconds++;
                    playSoftTick();
                    updateBreathPhase(breathElapsedSeconds);
                    const rotation = breathElapsedSeconds * (360 / 65);
                    breathHand.style.transform = `rotate(${rotation}deg)`;
                    let displayTime = breathElapsedSeconds % 65;
                    if (displayTime === 0) displayTime = 65;
                    breathDisplay.innerText = displayTime.toString().padStart(2, '0');
                    if (breathElapsedSeconds > 0 && breathElapsedSeconds % 65 === 0) {
                        breathRounds++;
                        breathRoundCounter.innerText = breathRounds;
                    }
                }, 1000);
            } else {
                clearInterval(breathInterval);
                breathPlayBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';
            }
        }

        /* ---------------- MEDITATION TIMER LOGIC ---------------- */
        let medInterval;
        let medState = 'IDLE'; 
        let medPreviousState = 'IDLE'; // Fixed: Missing variable added
        let medTimeRemaining = 0;
        let medTotalCurrentPhaseTime = 0;

        const medDisplay = document.getElementById('med-timer-display');
        const medPhaseDisplay = document.getElementById('med-phase-display');
        const medPlayBtn = document.getElementById('med-play-btn');
        const medProgress = document.getElementById('med-progress');
        const medPulse = document.getElementById('med-pulse');

        const inputWarmup = document.getElementById('med-warmup');
        const inputDuration = document.getElementById('med-duration');
        const inputSilence = document.getElementById('med-silence');

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function playTempleBell() {
            initAudio();
            if (!audioCtx) return;
            if (audioCtx.state === 'suspended') audioCtx.resume();
            
            const now = audioCtx.currentTime;
            const frequencies = [1, 2, 3, 4.2]; 
            const decays = [3.5, 2.5, 1.5, 1.0]; 
            const baseFreq = 220; 

            frequencies.forEach((ratio, i) => {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.type = 'sine';
                osc.frequency.setValueAtTime(baseFreq * ratio, now);
                gain.gain.setValueAtTime(0, now);
                gain.gain.linearRampToValueAtTime(0.3 / (i + 1), now + 0.01);
                gain.gain.exponentialRampToValueAtTime(0.001, now + decays[i]);
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start(now);
                osc.stop(now + decays[i] + 0.1);
            });
        }

        function updateMeditationDisplay() {
            medDisplay.innerText = formatTime(medTimeRemaining);
            if (medTotalCurrentPhaseTime > 0) {
                const percentage = ((medTotalCurrentPhaseTime - medTimeRemaining) / medTotalCurrentPhaseTime) * 100;
                medProgress.style.width = `${percentage}%`;
            } else {
                medProgress.style.width = '0%';
            }
        }

        function switchMeditationPhase(newState) {
            medState = newState;
            medPulse.style.opacity = '0.5';
            setTimeout(() => { medPulse.style.opacity = '0'; }, 500);

            if (medState === 'WARMUP') {
                const warmupSecs = parseInt(inputWarmup.value);
                if (warmupSecs > 0) {
                    medTimeRemaining = warmupSecs;
                    medTotalCurrentPhaseTime = warmupSecs;
                    medPhaseDisplay.innerText = "роЖропродрпНродроорпН (WARM-UP)";
                    medPhaseDisplay.className = "text-yellow-300 text-sm font-bold uppercase tracking-widest mb-2";
                    updateMeditationDisplay(); // Immediate Update
                } else {
                    switchMeditationPhase('MEDITATION');
                }
            } 
            else if (medState === 'MEDITATION') {
                playTempleBell();
                const durMins = parseInt(inputDuration.value);
                medTimeRemaining = durMins * 60;
                medTotalCurrentPhaseTime = medTimeRemaining;
                medPhaseDisplay.innerText = "родро┐ропро╛ройроорпН (MEDITATION)";
                medPhaseDisplay.className = "text-white text-sm font-bold uppercase tracking-widest mb-2";
                updateMeditationDisplay(); // Immediate Update
            } 
            else if (medState === 'SILENCE') {
                playTempleBell();
                const silenceSecs = parseInt(inputSilence.value);
                if (silenceSecs > 0) {
                    medTimeRemaining = silenceSecs;
                    medTotalCurrentPhaseTime = silenceSecs;
                    medPhaseDisplay.innerText = "роиро┐ро▒рпИро╡рпБ роЕроорпИродро┐ (SILENCE)";
                    medPhaseDisplay.className = "text-purple-300 text-sm font-bold uppercase tracking-widest mb-2";
                    updateMeditationDisplay(); // Immediate Update
                } else {
                    switchMeditationPhase('END');
                }
            } 
            else if (medState === 'END') {
                playTempleBell();
                resetMeditation();
                medPhaseDisplay.innerText = "роиро┐ро▒рпИро╡рпБ (COMPLETED)";
            }
        }

        function toggleMeditation() {
            initAudio();
            if (audioCtx.state === 'suspended') audioCtx.resume();

            if (medState === 'IDLE' || medState === 'PAUSED') {
                if (medState === 'IDLE') {
                    switchMeditationPhase('WARMUP'); // Start fresh
                } else {
                    medState = medPreviousState; // Resume
                }

                medPlayBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';

                medInterval = setInterval(() => {
                    if (medTimeRemaining > 0) {
                        medTimeRemaining--;
                        updateMeditationDisplay();
                    } else {
                        if (medState === 'WARMUP') switchMeditationPhase('MEDITATION');
                        else if (medState === 'MEDITATION') switchMeditationPhase('SILENCE');
                        else if (medState === 'SILENCE') switchMeditationPhase('END');
                    }
                }, 1000);
            } else {
                clearInterval(medInterval);
                medPreviousState = medState;
                medState = 'PAUSED';
                medPlayBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';
            }
        }

        function resetMeditation() {
            clearInterval(medInterval);
            medState = 'IDLE';
            medTimeRemaining = parseInt(inputDuration.value) * 60;
            medTotalCurrentPhaseTime = 0;
            
            medPhaseDisplay.innerText = "родропро╛ро░рпН (READY)";
            medPhaseDisplay.className = "text-indigo-300 text-sm font-bold uppercase tracking-widest mb-2";
            medDisplay.innerText = formatTime(medTimeRemaining);
            medProgress.style.width = '0%';
            
            medPlayBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>';
        }

        // Initialize Display
        medDisplay.innerText = formatTime(parseInt(inputDuration.value) * 60);
        
        // Update display on settings change
        inputDuration.addEventListener('change', () => {
            if (medState === 'IDLE') {
                medDisplay.innerText = formatTime(parseInt(inputDuration.value) * 60);
            }
        });
    </script>
</body>
</html>